{% extends "plea/base.html" %}

{% load i18n %}
{% load form_widgets %}

{% block page_title %}{% trans "Your details" %} - {{ block.super }}{% endblock %}

{% load staticfiles %}

{% block page_content %}
<form action="{{ request.path }}" method="post" autocomplete="off" novalidate>
    
    {% csrf_token %}
    
    {% with forms.0 as form %}
        
        {% if form.errors %}
        <section class="error-summary">
            <h2>{% trans "You need to fix the errors on this page before continuing." %}</h2>

            <p>{% trans "See highlighted errors below." %}</p>

            <ul>
                {% for field in form %}
                    {% if field.errors %}
                <li><a href="#section_{{ field.name }}">{{ field.errors|striptags }}</a></li>
                    {% endif %}
                {% endfor %}
            </ul>
        </section>
        {% endif %}

        <header class="content-header">
            <h1>{% trans "Your details" %}</h1>

            <p>{% trans "We need these in case we have to get in touch with you about your plea." %}</p>
        </header>

        {% std_field form.first_name %}

        {% std_field form.last_name %}

        {% std_field form.correct_address %}

        <div class="form-group-wide move-up js-Conditional" data-conditional-trigger="correct_address" data-conditional-value="False">
            <h4 class="heading-small js-hidden">{% trans "If you answered \"No\":" %}</h4>
            {% std_field form.updated_address hide_optional=True %}
        </div>

        {% std_field form.contact_number %}

        {% std_field form.email %}

        {% std_field form.date_of_birth %}

        {% std_field form.ni_number %}

        {% std_field form.driving_licence_number %}

    {% endwith %}

    <div class="form-submit">
        <button class="button" type="submit">{% trans "Continue" %}</button>
    </div>

</form>
{% endblock page_content %}
