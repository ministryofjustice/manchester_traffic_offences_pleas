{% extends "base_form.html" %}

{% load i18n %}
{% load form_widgets %}
{% load testing %}

{% block page_title %}{% blocktrans %}Your expenses{% endblocktrans %} - {{ block.super }}{% endblock %}


{% block stage_header %}
    <h1 class="heading-xlarge">{% blocktrans %}Your expenses{% endblocktrans %}</h1>

    <p class="lede">{% blocktrans %}To help the court decide your fine, you must provide information about your expenses.{% endblocktrans %}</p>
{% endblock stage_header %}


{% block stage_form %}
    <hr>

    {% std_field form.hardship_details wide=True %}

    <div id="household_expenses">
        <h2>{% blocktrans %}Household expenses{% endblocktrans %}</h2>

        <p>{% blocktrans %}What are your monthly household bills for the following?{% endblocktrans %}</p>

        <div class="grid-row">
            <div class="column-half">
                {% std_field form.household_accommodation hide_optional=True prefix="£" %}
            </div>
            <div class="column-half">
                {% std_field form.household_utility_bills hide_optional=True prefix="£" %}
            </div>
        </div>

        <div class="grid-row">
            <div class="column-half">
                {% std_field form.household_insurance hide_optional=True prefix="£" %}
            </div>
            <div class="column-half">
                {% std_field form.household_council_tax hide_optional=True prefix="£" %}
            </div>
        </div>

        {% radio_field form.other_bill_payers inline=True %}

    </div>

    <hr>


    <div id="other_expenses">
        <h2>{% blocktrans %}Other expenses{% endblocktrans %}</h2>

        <p>{% blocktrans %}What are your monthly bills for the following?{% endblocktrans %}</p>

        <div class="grid-row">
            <div class="column-half">
                {% std_field form.other_tv_subscription hide_optional=True prefix="£" %}
            </div>
            <div class="column-half">
                {% std_field form.other_travel_expenses hide_optional=True prefix="£" %}
            </div>
        </div>

        <div class="grid-row">
            <div class="column-half">
                {% std_field form.other_telephone hide_optional=True prefix="£" %}
            </div>
            <div class="column-half">
                {% std_field form.other_loan_repayments hide_optional=True prefix="£" %}
            </div>
        </div>

        <div class="grid-row">
            <div class="column-half">
                {% std_field form.other_court_payments hide_optional=True prefix="£" %}
            </div>
            <div class="column-half">
                {% std_field form.other_child_maintenance hide_optional=True prefix="£" %}
            </div>
        </div>
    </div>

    <div class="nojs-hidden">
        
        <hr>

        <h2 class="heading-large">{% blocktrans %}Totals{% endblocktrans %}</h2>

        <div class="form-group">
            <table id="expense-summary">
                <tr>
                    <th>{% blocktrans %}Total household expenses{% endblocktrans %}</th>
                    <td>£<span class="js-CalculateTotals intermediate-total" data-total-terms="#household_expenses input[type=text]"></span></td>
                </tr>
                <tr>
                    <th>{% blocktrans %}Total other expenses{% endblocktrans %}</th>
                    <td>£<span class="js-CalculateTotals intermediate-total" data-total-terms="#other_expenses input[type=text]"></span></td>
                </tr>
                <tr class="total">
                    <th>{% blocktrans %}Total expenses{% endblocktrans %}</th>
                    <td>£<span class="js-CalculateTotals" data-total-terms=".intermediate-total"></span></td>
                </tr>
            </table>
        </div>
        
    </div>
{% endblock stage_form %}
