{% extends "reports.html" %}
{% load staticfiles %}

{% block report_contents %}
<hr/>
<a href="{{ day_url }}">Today</a>
<a href="{{ week_url }}">Last Week</a>
<a href="{{ month_url }}">Last Month</a>
<a style="text-decoration: none; text-align: right; float: right;"
   href="{% url 'reports:index' %}">back to reports</a>
{% include report_partial %}
{% endblock %}


{% block extra_js %}

<script type="text/javascript">
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

function drawChart() {
    var data = new google.visualization.DataTable();
    data.addColumn('string', 'Stage');
    data.addColumn('number', 'Number');
    data.addRows({{bar_chart|safe}});

    var options = {
        width: 880,
        bars: 'vertical',
        legend: { position: 'none'},
        colors: ['#265b86','#337ab7'],
        chartArea:{left:75,top:20,width:'90%',height:'85%'}

    };

    var chart = new google.visualization.ColumnChart(document.getElementById('main_chart'));
    chart.draw(data, options);
}
</script>
{% endblock extra_js %}